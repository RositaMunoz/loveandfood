<br>
<br>
<br>
<div class='columns'>
	<div class='column is-one-third'></div>
	<div class='column'>
    <h4 class='title is-4'>Registrarse</h4>


    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>

      <div class="field">
        <label class='label'><%= f.label :email %></label>
        <%= f.email_field :email, autofocus: true, autocomplete: "email", class:'input' %>
      </div>
      <div class="field">
        <label class='label'><%= f.label "Nombre de usuario" %></label>
        <%= f.text_field :username, autofocus: true , class:'input'%>
      </div>

      <div class="field">
        <label class='label'><%= f.label "Nombre completo" %></label>
        <%= f.text_field :name, autofocus: true, class:'input'%>
      </div>

      <div class="field">
        <label class='label'><%= f.label "Fecha de nacimiento" %></label>
        <%= f.date_select :date_of_birth, start_year: 1940, end_year: 2002, class:'input' %>
      </div>

      <div class ="field">
        <label class='label'><%= f.label "Género" %></label>
        <%= f.select :gender, User.genders_for_select, {}, class: "form-control" %>
      </div>
    
      <%deporte = []%>
      <%comida = []%>
      <%musica = []%>
      <%genero_pelicula = []%>
      <%Gusto.all.each do |gusto|%>
        <%if gusto.tipo == 'Deporte'%>
          <%deporte<<gusto.nombre%>
        <%end%>
        <%if gusto.tipo == 'Comida'%>
          <%comida<<gusto.nombre%>
        <%end%>
        <%if gusto.tipo == 'Musica'%>
          <%musica<<gusto.nombre%>
        <%end%>
        <%if gusto.tipo == 'Genero de pelicula'%>
          <%genero_pelicula<<gusto.nombre%>
        <%end%>
      <%end%>
       <div class= 'field'>
        <label class='label'><%= f.label 'Deporte' %></label>
        <%= f.select :deporte, deporte, class:'form-control'%>
      </div>
      <div class='field'>
        <label class='label'><%= f.label 'Comida' %></label>
        <%= f.select :comida, comida, class:'form-control'%>
      </div>
      <div class='field'>
        <label class='label'><%= f.label 'Musica' %></label>
        <%= f.select :musica, musica, class:'form-control'%>
      </div>
      <div class='field'>
        <label class='label'><%= f.label 'Genero de pelicula' %></label>
        <%= f.select :genero_pelicula, genero_pelicula, class:'form-control'%>
      </div>

      <div class='field'>
        <label class='label'><%= f.label "Número de teléfono" %></label>
        <%= f.text_field :phone_number, autofocus: true, class: 'input'%>
      </div>

      <div class='field'>
        <label class='label'><%= f.label "Descripción" %></label>
        <%= f.text_field :description, autofocus: true, class:'input' %>
      </div>

      <div class="field">
        <label class='label'><%= f.label :foto_perfil %></label>
        <%= f.file_field :foto_perfil, direct_upload: true%>
      </div>

      <div class="field">
        <label for="comuna_id" class="label">Seleccione una comuna:</label>
        <%= f.collection_select :comuna_id, Comuna.all, :id, :nombre, prompt: true, class: "form-control" %>
      </div>
      

      <div class="field">
        <label class='label'><%= f.label "Contraseña" %></label>
        <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> caracteres mínimo)</em>
        <% end %><br />
        <%= f.password_field :password, autocomplete: "new-password", class: 'input'%>
      </div>

      <div class="field">
        <label class='label'><%= f.label "Confirma la contraseña" %></label>
        <%= f.password_field :password_confirmation, autocomplete: "new-password", class:'input'%>
      </div>

      <div class="actions">
        <%= f.submit "Registrarse", class: 'button is-link'%>
      </div>
    <% end %>
    <br>
    <%= render "users/shared/links" %>
  </div>
  <div class='column'></div>
</div>


